if(Modernizr.json&&Modernizr.filereader&&Modernizr.sessionstorage&&Modernizr.localstorage)$(function(){var a=$("#text"),b=$("#rpl");a.on("change input",function(){}),b.on("click",function(b){var c=a.val(),d="",e=/^# (.+)/gm,f="[color=orange][SIZE=7]$1[/SIZE][/color]",g=/^## (.+)/gm,h="[color=orange][SIZE=6]$1[/SIZE][/color]",i=/^(img_attach)/gm,j=0,k="[attachmentid=1923106],[attachmentid=1923107],[attachmentid=1923108],[attachmentid=1923109],[attachmentid=1923110],[attachmentid=1923111],[attachmentid=1923112]".split(",");d=c.replace(e,f).replace(g,h),d=d.replace(i,function(a,b,c,d){return++j,console.log(k[j-1]),k[j-1]}),a.val(d)})});else{if(!document.getElementsByClassName){var indexOf=[].indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1};getElementsByClassName=function(a,b){var c=document.querySelectorAll?b.querySelectorAll("."+a):function(){for(var c=b.getElementsByTagName("*"),d=[],e=0;e<c.length;e++)c[e].className&&(" "+c[e].className+" ").indexOf(" "+a+" ")>-1&&indexOf.call(d,c[e])===-1&&d.push(c[e]);return d}();return c},document.getElementsByClassName=function(a){return getElementsByClassName(a,document)};try{Element&&(Element.prototype.getElementsByClassName=function(a){return getElementsByClassName(a,this)})}catch(a){}}for(var json=Modernizr.json?"JSON SUPPORT\n":"JSON NOT SUPPORT\n",filereader=Modernizr.filereader?"FILEREADER SUPPORT\n":"FILEREADER NOT SUPPORT\n",localstorage=Modernizr.localstorage?"LOCALSTORAGE SUPPORT\n":"LOCALSTORAGE NOT SUPPORT\n",sessionstorage=Modernizr.sessionstorage?"SESSIONSTORAGE SUPPORT\n":"SESSIONSTORAGE NOT SUPPORT\n",str=json+filereader+localstorage+sessionstorage,wrappers=document.getElementsByClassName("wrapper"),i=0;i<wrappers.length;++i)for(var elem=wrappers[i];elem.firstChild;)elem.removeChild(elem.firstChild);alert(str+"\n\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 HTML5!!!\n\n\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439 HTML5 \u0438 \u0432\u043e\u0437\u0432\u0440\u0430\u0449\u0430\u0439\u0442\u0435\u0441\u044c!")}